# Cortex-A9 configuration (32-bit)
# Target devices: RG35XX (non-plus)

# Architecture
ARCH := arm
TARGET_CROSS := arm-linux-gnueabihf-
GNU_TARGET_NAME := arm-buildroot-linux-gnueabihf

# CPU-specific flags
# A9 has basic NEON (use -mfpu=neon, not neon-fp16 which can cause FMA generation issues)
# Use -marm and specify CPU/tune without -march to avoid conflicts with platform defaults
TARGET_CPU := cortex-a9
TARGET_OPTIMIZATION := -marm -mcpu=$(TARGET_CPU) -mtune=$(TARGET_CPU)
TARGET_FLOAT := -mfloat-abi=hard -mfpu=neon

# Compiler flags
TARGET_CFLAGS := -O2 -pipe -fsigned-char $(TARGET_OPTIMIZATION) $(TARGET_FLOAT)
TARGET_CXXFLAGS := $(TARGET_CFLAGS)
TARGET_LDFLAGS := $(TARGET_OPTIMIZATION) $(TARGET_FLOAT)

# Buildroot-style variables
BR2_arm := y
BR2_cortex_a9 := y
BR2_ARM_EABIHF := y
BR2_TOOLCHAIN_USES_GLIBC := y

export ARCH TARGET_CROSS TARGET_CFLAGS TARGET_CXXFLAGS TARGET_LDFLAGS
export BR2_arm BR2_cortex_a9
